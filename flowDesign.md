# 风险平台设计规范

## 1. 业务大屏设计规范

### 业务入口分组
按照以下模块进行分组：
- 去交费
- 电费电量
- 户号管理
- 电费余额
- 用户中心
- 首页交互
- 小程序
- 其它业务

### 指标显示规则
显示三个核心指标（带基线值）：
* 耗时: 实际值/基线值 ms
* 成功率: 实际值/基线值 %
* 流量: 实际值/基线值 tps

### 颜色规则
指标值根据与基线的比较显示不同颜色：
* 正常（默认色）：实际值 ≤ 120% 基线值
* 警告（橙色）：120% < 实际值 ≤ 150% 基线值
* 异常（红色）：实际值 > 150% 基线值

### 业务入口状态规则
* 当任意一个核心指标达到异常状态时（>150%基线值），整个业务入口显示为红色
* 其他情况下保持默认颜色

### 布局规则
* 业务模块横向排列
* 每个模块内的业务入口纵向排列
* 模块之间保持16px间距
* 同一模块内的业务入口之间保持8px间距
* 业务入口内部使用8px内边距

### 交互规则
* 提交订单等特定入口可点击，点击后跳转到对应的链路详情页
* 其他入口仅作展示用途

## 2. 链路大屏设计规范

### 链路展示规则
* 以DAG图形式展示业务链路
* 节点表示服务或组件
* 边表示服务间调用关系
* 箭头表示调用方向

### 节点显示规则
* 显示节点名称
* 显示核心指标：
  - 耗时: 实际值/基线值 ms
  - 成功率: 实际值/基线值 %
  - 流量: 实际值/基线值 tps
  - 饱和度: 实际值/基线值 %（仅应用节点显示）

### 节点状态规则
* 正常状态：默认颜色
* 异常状态：红色背景
  - 任意指标超过基线150%时触发
  - 存在组件风险时触发

### 组件状态展示
* 在节点下方显示组件图标（DB/Cache/MQ）
* 组件状态：
  - 正常：默认颜色
  - 异常：红色，显示风险点和故障数

### 交互规则
* 节点可点击，点击后跳转到节点详情页
* 鼠标悬停显示详细信息

## 3. 节点大屏设计规范

### 节点类型
* 入口节点：用户请求入口
* 应用节点：业务处理服务
* 数据节点：数据库服务
* 缓存节点：缓存服务
* 消息节点：消息队列服务

### 组件状态规则
组件（DB/Cache/MQ）状态分为：
* 正常（healthy）：默认颜色
* 异常（error）：红色，显示风险点
* 未使用（unused）：灰色

### 风险指标展示
* 抖动（jitter）
* 限流（limiting）
* 性能（performance）
* 以红点形式展示在组件图标下方

### 指标显示规则
显示四个核心指标（带基线值）：
* 耗时: 实际值/基线值 ms
* 成功率: 实际值/基线值 %
* 流量: 实际值/基线值 tps
* 饱和度: 实际值/基线值 %（仅应用节点显示）

### 布局规则
* 节点信息居中展示
* 组件状态在节点下方展示
* 风险指标在组件图标下方以红点形式展示
* 故障数在风险指标下方展示

### 交互规则
* 鼠标悬停显示详细信息
* 组件图标可点击，显示组件详细状态

